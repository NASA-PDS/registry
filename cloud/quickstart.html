<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registry API Service in the Cloud Quickstart &mdash; PDS Registry 1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Support" href="../support/support.html" />
    <link rel="prev" title="The Registry API Service Cloud Architecture" href="architecture.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> PDS Registry
            <img src="../_static/PDS_Planets.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About PDS Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/tasks.html">User Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/tasks.html">Admin Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cloud.html">Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="architecture.html">The Registry API Service Cloud Architecture</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Registry API Service in the Cloud Quickstart</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initial-set-up">Initial set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-your-es-password">Changing Your ES password</a></li>
<li class="toctree-l3"><a class="reference internal" href="#registry-tools">Registry Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#registry-api">Registry API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../support/support.html">Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PDS Registry</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="cloud.html">Cloud</a> &raquo;</li>
      <li>Registry API Service in the Cloud Quickstart</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="registry-api-service-in-the-cloud-quickstart">
<h1>Registry API Service in the Cloud Quickstart<a class="headerlink" href="#registry-api-service-in-the-cloud-quickstart" title="Permalink to this headline"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>This page provides the steps necessary to get going with data ingestion and
querying of the Registry API Service from the perspective of a Discipline
Node (DN).</p>
</section>
<section id="initial-set-up">
<h2>Initial set-up<a class="headerlink" href="#initial-set-up" title="Permalink to this headline"></a></h2>
<p>To get things going, you should have provided the EN contact with the following:</p>
<blockquote>
<div><ul class="simple">
<li><p>A list of user email addresses which will be authorized to perform data ingestion.</p></li>
<li><p>A list of IP addresses or blocks of addresses from which data ingestion will occur.</p></li>
</ul>
</div></blockquote>
<p>Elasticsearch (ES) accounts will be set up for each user and their username and (temporary)
password will be sent to them via JPL Large File Transfer (LFT) which provides secure
transit of the credentials. The IP addresses are added to the Elasticsearch access whitelist.</p>
<p>Along with your ES user credentials you will receive the URL which points to your ES
instance - we will refer to this as the ES URL.</p>
</section>
<section id="changing-your-es-password">
<h2>Changing Your ES password<a class="headerlink" href="#changing-your-es-password" title="Permalink to this headline"></a></h2>
<p>Note: One limitation of AWS Elasticsearch/Opensearch is the inability to change user
passwords through any means other than the Kibana console.</p>
<p>Kibana is a data visualization dashboard for Elasticsearch and provides some additional
administrative functions such as changing your user password. The password provided by
the EN contact is considered only temporary (since it is known to those other than yourself).
It should be changed immediately upon receipt and routinely every few months through the following
steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>From one of the whitelisted IP addresses you provided to the EN contact, open a browser and open the Kibana URL which is your ES URL appended with “/_plugin/kibana/”</p></li>
<li><p>Enter your username and current password, click “Log In”.</p></li>
<li><p>If prompted to “Start by adding yoour data”, click on “Explore on my own”.</p></li>
<li><p>If prompted to “Select your tenant”, select “Global” the click “Confirm”.</p></li>
<li><p>The Kibana Home page will open. In the upper right corner there will be a circle icon containing the first letter of your username. Click that circle.</p></li>
<li><p>In the pulldown menu which opens, select “Reset password”. See figure below.</p></li>
<li><p>In the pop-up window which opens, enter your current password, new password and confirmation of the new password. Click “Reset”. (If the Reset button does not activate, it means the password and its confirmation do not match.)</p></li>
</ol>
</div></blockquote>
<img alt="../_images/kibana_password_reset.png" src="../_images/kibana_password_reset.png" />
</section>
<section id="registry-tools">
<h2>Registry Tools<a class="headerlink" href="#registry-tools" title="Permalink to this headline"></a></h2>
<p>Once the above setup is complete, the Registry Tools are used to process and ingest product
metadata into the Registry. Details on how to run these tools is found in the <a class="reference internal" href="../user/tasks.html"><span class="doc">User
Tasks Section</span></a></p>
<p>The use of the Registry Tools (i.e. Harvest - both standalone and scalable, Registry Manager) for
a cloud deployment of the Registry API Service is no different from that of on-premise. The URI
of the ES endpoint is specified in the same manner whether on-premis or cloud. The only additional
requirement is that Registry Manager is run from a system that has been included in the ES
whitelist. More details on the installation of the Registry Tools can be found <a class="reference internal" href="../install/tools.html"><span class="doc">here</span></a>.</p>
</section>
<section id="registry-api">
<h2>Registry API<a class="headerlink" href="#registry-api" title="Permalink to this headline"></a></h2>
<p>Once data has been ingested using the Registry Tools, queries can be submitted using the Registry
API which is <a class="reference external" href="https://nasa-pds.github.io/pds-api/search-api-user-guide.html">documented here</a>.
Registry queries are based on the following endpoint pattern:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>https://pds.nasa.gov/api/&lt;search-endpoint&gt;/&lt;version&gt;
</pre></div>
</div>
<p>To submit a cross-cluster search enabled query (i.e. to the EN registry which will search
across all DN registries), the <cite>&lt;search-endpoint&gt;</cite> is simply <cite>search</cite>. To direct a query to
a specific DN registry, <cite>search</cite> is replaced with <cite>search-&lt;DN-abbr&gt;</cite> where <cite>&lt;DN-abbr&gt;</cite> is
the particular DN abbreviation such as ‘GEO’, ‘ATM’, ‘SBNUMB’, etc.</p>
<p><cite>&lt;version&gt;</cite> is the API version, which is currently <cite>0.4</cite>. So to query for the first 10
products from the EN registry, the following API request is used:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>https://pds.nasa.gov/api/search/0.4/products?limit<span class="o">=</span><span class="m">10</span>
</pre></div>
</div>
<p>Similarly, to directly access the RMS registry:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>https://pds.nasa.gov/api/search-rms/0.4/products?limit<span class="o">=</span><span class="m">10</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="architecture.html" class="btn btn-neutral float-left" title="The Registry API Service Cloud Architecture" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../support/support.html" class="btn btn-neutral float-right" title="Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 California Institute of Technology.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>