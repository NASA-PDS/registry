

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Docker Container Based Deployment &mdash; PDS Registry 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Support" href="../support/support.html" />
    <link rel="prev" title="Tools Installation" href="tools.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> PDS Registry
          

          
            
            <img src="../_static/PDS_Planets.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About PDS Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud_startup.html">Cloud Startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/tasks.html">User Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/tasks.html">Admin Tasks</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="install.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools Installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Docker Container Based Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#download-and-configure-the-pds-registry-application">Download and Configure the PDS Registry Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-profiles">Deployment Profiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#client-side-operations">Client-side Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-deployment-scenarii">Common Deployment Scenarii</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#core-registry-with-standalone-harvest">Core Registry with Standalone Harvest</a></li>
<li class="toctree-l4"><a class="reference internal" href="#core-registry-with-scalable-harvest">Core Registry with Scalable Harvest</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../support/support.html">Support</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PDS Registry</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="install.html">Installation</a> &raquo;</li>
        
      <li>Docker Container Based Deployment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="docker-container-based-deployment">
<h1>Docker Container Based Deployment<a class="headerlink" href="#docker-container-based-deployment" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>All the PDS Registry components are containerized as docker images and published in <a class="reference external" href="https://hub.docker.com/u/nasapds">https://hub.docker.com/u/nasapds</a>.</p>
<p>The container based deployment of the PDS Registry components is orchestrated by Docker Compose, a tool for defining and running multi-container Docker applications.</p>
<p>Therefore, the deployment procedures described here can be used to deploy server-side and/or client-side registry components, without having to install the individual components manually.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These deployment are not intended for production given that 1. docker compose works on a single host and 2. permanent storage is left to docker to manage.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To learn more about docker compose, please visit <a class="reference external" href="https://docs.docker.com/compose/">https://docs.docker.com/compose/</a>.</p>
</div>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>It is required to install the following tools.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>docker</strong> Can be downloaded installed as explained in <a class="reference external" href="https://docs.docker.com/get-docker/">https://docs.docker.com/get-docker/</a></p></li>
<li><p><strong>docker compose</strong> Can be downloaded and installed as explained in <a class="reference external" href="https://docs.docker.com/compose/install/">https://docs.docker.com/compose/install/</a></p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the time of writing this, all registry components were successfully tested with the docker compose version v2.2.3.
The registry components should work with later versions of docker compose too.</p>
</div>
</div>
<div class="section" id="download-and-configure-the-pds-registry-application">
<h2>Download and Configure the PDS Registry Application<a class="headerlink" href="#download-and-configure-the-pds-registry-application" title="Permalink to this headline">¶</a></h2>
<p>The latest release of the Registry can be downloaded and configured as follows.</p>
<ol class="arabic simple">
<li><p>Download the sourcecode <cite>.zip</cite> file or <cite>.tar.gz</cite> file from the <a class="reference external" href="https://github.com/NASA-PDS/registry/releases">https://github.com/NASA-PDS/registry/releases</a>.</p></li>
</ol>
<p>2. Extract the <strong>tar</strong> (Linux, Mac) or <strong>zip</strong> (Windows) to a directory without spaces, such as <em>/home/pds</em>.
On Linux you can use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">tar</span> <span class="o">-</span><span class="n">xzvf</span> <span class="n">registry</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">z</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The path of the extracted directory, is referred to as the <cite>&lt;REGISTRY_ROOT&gt;</cite> in the following instructions.</p>
</div>
<ol class="arabic" start="3">
<li><p>Open a terminal and change the working directory to <cite>&lt;REGISTRY_ROOT&gt;/docker</cite> directory.</p></li>
<li><p>Open the <cite>&lt;REGISTRY_ROOT&gt;/docker/.env</cite> file using a text editor</p></li>
<li><p>Edit the <cite>.env</cite> file and set the following environment variables.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Absolute path of the Harvest data directory in the host machine (E.g.: `./test-data/registry-harvest-data`).</span>
<span class="c1"># If the Registry Harvest CLI is executed with the option to download test data, then this directory will be</span>
<span class="c1"># cleaned-up and populated with test data.</span>
<span class="c1"># Also, this `HARVEST_DATA_DIR` location should be accessible from the docker containers of the Registry Harvest Service</span>
<span class="c1"># and Registry Crawler Service.</span>
<span class="n">HARVEST_DATA_DIR</span><span class="o">=./</span><span class="n">test</span><span class="o">-</span><span class="n">data</span><span class="o">/</span><span class="n">registry</span><span class="o">-</span><span class="n">harvest</span><span class="o">-</span><span class="n">data</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>HARVEST_DATA_DIR</cite> specified above should have the directories of the data to be harvested.</p>
<p>An example of a <cite>harvest-job-config.xml</cite> file (to set as <cite>HARVEST_JOB_CONFIG_FILE</cite> in the above configurations)
can be obtained from the <cite>&lt;REGISTRY_ROOT&gt;/docker/default-config</cite> directory.</p>
</div>
<ol class="arabic simple" start="5">
<li><p>Generate the self-signed certificates as follows.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Certificates are required for OpenSearch to enable https.</p>
</div>
<blockquote>
<div><ol class="loweralpha">
<li><p>Change the current working directory to <cite>&lt;REGISTRY_ROOT&gt;/docker/certs</cite> directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">certs</span>
</pre></div>
</div>
</li>
<li><p>Generate self-signed certificates by executing the following script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">generate</span><span class="o">-</span><span class="n">certs</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p>Change the current working directory to <cite>&lt;REGISTRY_ROOT&gt;/docker</cite> directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">..</span>
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="deployment-profiles">
<h2>Deployment Profiles<a class="headerlink" href="#deployment-profiles" title="Permalink to this headline">¶</a></h2>
<p>Deployment profiles are defined to parameterize your deployment, either you only want to run the server side core components of the registry (OpenSearch and web API) or run an harvest standalone job, or run the scalable harvest services…</p>
<p>Using a profile name, you can start the required components of the Registry as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=&lt;</span><span class="n">DOCKER_COMPOSE_PROFILE_NAME</span><span class="o">&gt;</span> <span class="n">up</span> <span class="o">--</span><span class="n">detach</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The next section explains the possible profile names that can be used for the <cite>&lt;DOCKER_COMPOSE_PROFILE_NAME&gt;</cite> in the
docker compose command above.</p>
</div>
<p>The docker containers deployed using a docker compose profile can be easily uninstalled and cleaned-up using the following
command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=&lt;</span><span class="n">DOCKER_COMPOSE_PROFILE_NAME</span><span class="o">&gt;</span> <span class="n">down</span>
</pre></div>
</div>
<p>The following table contains commonly used server-side profiles and descriptions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 43%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Profile Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Prerequisites</p>
<p>(profiles to start before this)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pds-core-registry</p></td>
<td><p>Starts only the OpenSearch and Registry API</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>pds-loader-services</p></td>
<td><p>Starts the Scalable Harvest server-side components</p></td>
<td><p>The <cite>pds-core-registry</cite> profile
must be up and running</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="client-side-operations">
<h2>Client-side Operations<a class="headerlink" href="#client-side-operations" title="Permalink to this headline">¶</a></h2>
<p>To trigger data ingestion in the registry, you need to run client side commands (which use docker compose as well internally)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 35%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Command prototype</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Prerequisites</p>
<p>(profiles to start before this)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pds-batch-loader.sh  &lt;harvest job confg file&gt;</p></td>
<td><p>Executes the Standalone Harvest client-side tool.
This tool is recommended for small data sets of
up to 10,000 PDS4 labels.</p></td>
<td><p>The <cite>pds-core-registry</cite> server-side profile
must be up and running</p></td>
</tr>
<tr class="row-odd"><td><p>pds-service-loader.sh &lt;harvest job confg file&gt;</p></td>
<td><p>Executes the Scalable Harvest client-side tool.
This tool is   recommended for larger data sets of
over 10,000 PDS4 labels.</p></td>
<td><p>The <cite>pds-loader-services</cite> server-side profile
must be up and running</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="common-deployment-scenarii">
<h2>Common Deployment Scenarii<a class="headerlink" href="#common-deployment-scenarii" title="Permalink to this headline">¶</a></h2>
<div class="section" id="core-registry-with-standalone-harvest">
<h3>Core Registry with Standalone Harvest<a class="headerlink" href="#core-registry-with-standalone-harvest" title="Permalink to this headline">¶</a></h3>
<p>As explained above, the Standalone Harvest simple batch tool, which is suitable to process small data sets of
up to 10,000 PDS4 labels.</p>
<p>You can execute the following instructions to deploy the registry and load small amount of data.</p>
<div class="section" id="deploying-the-sever-side-components-of-standalone-harvest">
<h4>Deploying the Sever-side Components of Standalone Harvest<a class="headerlink" href="#deploying-the-sever-side-components-of-standalone-harvest" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Open a new terminal and change the current working directory to the <code class="docutils literal notranslate"><span class="pre">&lt;REGISTRY_ROOT&gt;/docker</span></code> directory.</p></li>
<li><p>Start opensearch and the PDS search API as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">pds</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">registry</span>  <span class="n">up</span>
</pre></div>
</div>
</li>
<li><p>Wait for the following log messages in the terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docker-registry-api-1        |   .   ____          _            __ _ _
docker-registry-api-1        |  /\\ / ___&#39;_ __ _ _(_)_ __  __ _ \ \ \ \
docker-registry-api-1        | ( ( )\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \ \ \ \
docker-registry-api-1        |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
docker-registry-api-1        |   &#39;  |____| .__|_| |_|_| |_\__, | / / / /
docker-registry-api-1        |  =========|_|==============|___/=/_/_/_/
docker-registry-api-1        |  :: Spring Boot ::        (v2.3.1.RELEASE)
docker-registry-api-1        |
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="run-standalone-harvest-to-load-some-pds4-products">
<h4>Run Standalone Harvest to Load Some PDS4 Products<a class="headerlink" href="#run-standalone-harvest-to-load-some-pds4-products" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Open a new terminal and change the current working directory to the <code class="docutils literal notranslate"><span class="pre">&lt;REGISTRY_ROOT&gt;/docker/scripts</span></code> directory.</p></li>
<li><p>Define a harvest job configuration as specified in <a class="reference internal" href="../user/harvest_job_configuration.html"><span class="doc">Harvest Job Configuration</span></a></p></li>
<li><p>Run the harvest command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">pds</span><span class="o">-</span><span class="n">batch</span><span class="o">-</span><span class="n">loader</span><span class="o">.</span><span class="n">sh</span>  <span class="o">&lt;</span><span class="n">harvest</span> <span class="n">job</span> <span class="n">confg</span> <span class="n">file</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ol>
<p>This is using docker compose in the background so no need to install anything more.</p>
<ol class="arabic" start="4">
<li><p>Wait for the following log messages in the terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">registry</span><span class="o">-</span><span class="n">loader</span><span class="o">-</span><span class="mi">1</span> <span class="n">exited</span> <span class="k">with</span> <span class="n">code</span> <span class="mi">0</span>
</pre></div>
</div>
</li>
<li><p>Visit the <a class="reference external" href="http://localhost:8080/swagger-ui.html#!/collections/getCollection">http://localhost:8080/swagger-ui.html#!/collections/getCollection</a> of the Registry API.</p></li>
<li><p>Click on the <strong>Try it out!</strong> button to see the Response Body.</p></li>
</ol>
</div>
<div class="section" id="clean-up-the-deployment">
<h4>Clean-up the Deployment<a class="headerlink" href="#clean-up-the-deployment" title="Permalink to this headline">¶</a></h4>
<p>The docker containers deployed above can be easily uninstalled and cleaned-up using the following
commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">pds</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">registry</span> <span class="n">down</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="core-registry-with-scalable-harvest">
<h3>Core Registry with Scalable Harvest<a class="headerlink" href="#core-registry-with-scalable-harvest" title="Permalink to this headline">¶</a></h3>
<p>As explained above, the Scalable Harvest is suitable to process larger data sets of more than 10,000 PDS4 labels.</p>
<p>You can execute the following instructions to deploy the server-side components of Registry with Scalable Harvest and load some data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Docker Compose running on a single host, the scalability of this tool is not at its full potential yet, we will propose in the future a production ready deployment procedure (e.g. using kubernetes) to actually scale the ingestion.</p>
</div>
<div class="section" id="deploying-the-sever-side-components-of-scalable-harvest">
<h4>Deploying the Sever-side Components of Scalable Harvest<a class="headerlink" href="#deploying-the-sever-side-components-of-scalable-harvest" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Open a new terminal and change the current working directory to the <code class="docutils literal notranslate"><span class="pre">&lt;REGISTRY_ROOT&gt;/docker</span></code> directory.</p></li>
<li><p>Start opensearch and the PDS search API as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">pds</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">registry</span>  <span class="n">up</span>
</pre></div>
</div>
</li>
<li><p>Wait for the following log messages in the terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docker-registry-api-1        |   .   ____          _            __ _ _
docker-registry-api-1        |  /\\ / ___&#39;_ __ _ _(_)_ __  __ _ \ \ \ \
docker-registry-api-1        | ( ( )\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \ \ \ \
docker-registry-api-1        |  \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
docker-registry-api-1        |   &#39;  |____| .__|_| |_|_| |_\__, | / / / /
docker-registry-api-1        |  =========|_|==============|___/=/_/_/_/
docker-registry-api-1        |  :: Spring Boot ::        (v2.3.1.RELEASE)
docker-registry-api-1        |
</pre></div>
</div>
</li>
<li><p>Start the <cite>pds-loader-services</cite> components as follows to start Scalable Harvest components.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">pds</span><span class="o">-</span><span class="n">loader</span><span class="o">-</span><span class="n">services</span> <span class="n">up</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="run-scalable-harvest-service-client-to-load-some-pds4-products">
<h4>Run Scalable Harvest Service Client to Load Some PDS4 Products<a class="headerlink" href="#run-scalable-harvest-service-client-to-load-some-pds4-products" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p>Open a new terminal and change the current working directory to the <code class="docutils literal notranslate"><span class="pre">&lt;REGISTRY_ROOT&gt;/docker/scripts/</span></code> directory.</p></li>
<li><p>Define a harvest job configuration as specified in <a class="reference internal" href="../user/harvest_job_configuration.html"><span class="doc">Harvest Job Configuration</span></a></p></li>
<li><p>Run the harvest command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">pds</span><span class="o">-</span><span class="n">service</span><span class="o">-</span><span class="n">loader</span><span class="o">.</span><span class="n">sh</span>  <span class="o">&lt;</span><span class="n">harvest</span> <span class="n">job</span> <span class="n">confg</span> <span class="n">file</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ol>
<p>This is using docker compose in the background so no need to install anything more.</p>
<ol class="arabic" start="4">
<li><p>Wait for the following log messages in the terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span><span class="o">-</span><span class="n">registry</span><span class="o">-</span><span class="n">harvest</span><span class="o">-</span><span class="n">cli</span><span class="o">-</span><span class="mi">1</span> <span class="n">exited</span> <span class="k">with</span> <span class="n">code</span> <span class="mi">0</span>
</pre></div>
</div>
</li>
<li><p>Visit the <a class="reference external" href="http://localhost:8080/swagger-ui.html#!/collections/getCollection">http://localhost:8080/swagger-ui.html#!/collections/getCollection</a> of the Registry API.</p></li>
<li><p>Click on the <strong>Try it out!</strong> button to see the Response Body.</p></li>
</ol>
</div>
<div class="section" id="id1">
<h4>Clean-up the Deployment<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>The docker containers deployed above can be easily uninstalled and cleaned-up using the following
commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">pds</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">registry</span> <span class="n">down</span>

<span class="n">docker</span> <span class="n">compose</span> <span class="o">--</span><span class="n">profile</span><span class="o">=</span><span class="n">pds</span><span class="o">-</span><span class="n">loader</span><span class="o">-</span><span class="n">services</span> <span class="n">down</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In addition to the commonly used and production ready docker compose profiles explained above, there are several other
docker compose profile that are used to setup the development environment and execute integration tests.</p>
<p>More information about all currently available docker compose profiles are available at
<a class="reference external" href="https://github.com/NASA-PDS/registry/tree/main/docker#-docker-compose-for-registry-components">https://github.com/NASA-PDS/registry/tree/main/docker#-docker-compose-for-registry-components</a>.</p>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../support/support.html" class="btn btn-neutral float-right" title="Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tools.html" class="btn btn-neutral float-left" title="Tools Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2022 California Institute of Technology

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>