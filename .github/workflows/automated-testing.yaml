on:
    push:
        branches:
            -   'automated-testing'
            -   '!main'
    workflow_dispatch:

jobs:
    automated-testing:
        name: Registry Automated Testing
        runs-on: ubuntu-latest
        steps:
            -
                name: Checkout Repository
                uses: actions/checkout@v4
            -
                name: Run Automated Testing
                run: |
                    cd $GITHUB_WORKSPACE/docker/certs
                    ./generate.sh
                    cd ..
                    docker compose --profile int-registry-batch-loader up